# Server
spring.application.name=customer-service
server.port=8082

#core-bank
core-banking.base-url=http://localhost:8088

# Datasource
spring.datasource.url=jdbc:mysql://localhost:3306/customer_db?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
spring.datasource.username=root
spring.datasource.password=123456
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA / Hibernate
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# Logging
logging.level.org.springframework=INFO
logging.level.com.example.customerservice=DEBUG

keycloak.auth-server-url=http://localhost:8081
keycloak.realm=klb-bank
keycloak.resource=customer-service
keycloak.customer.client-secret=XbhXEZgtRvXrIluKfonzx95NAQSDrV7C

keycloak.admin.username=admin
keycloak.admin.password=admin
keycloak.admin.client-id=admin-cli

spring.security.oauth2.resourceserver.jwt.issuer-uri=${keycloak.auth-server-url}/realms/${keycloak.realm}

# Dubbo Configuration
dubbo.application.name=customer-service
dubbo.application.version=1.0.0

# Dubbo Registry - Nacos
dubbo.registry.address=nacos://localhost:8848
dubbo.registry.parameters.namespace=klb-bank
dubbo.registry.parameters.group=banking-services

# Dubbo Protocol (consumer only, no provider protocol needed)
dubbo.protocol.serialization=hessian2

# Dubbo Consumer Configuration
dubbo.consumer.timeout=5000
dubbo.consumer.retries=2
dubbo.consumer.check=false

# Dubbo Scan Configuration (both adapter for @DubboService and service for @DubboReference)
dubbo.scan.base-packages=com.example.customerservice.adapter,com.example.customerservice.service

# Dubbo Monitoring (optional)
dubbo.metadata-report.address=nacos://localhost:8848
